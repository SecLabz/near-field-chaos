#include "./drivers/trf7970a/trf7970a.h"
#include "./drivers/pn532/pn532_spi.h"
#include "./drivers/pn532/pn532.h"

// CHIPS
#define CHIP_TRF7970A 0
#define CHIP_PN532 1

// DEVICES
#define DEVICE_RP2040_ZERO_PN532 1
#define DEVICE_SHADOWTAG 2
#define DEVICE_PICOTAG 3
#define DEVICE_ST25TB_KAMELEON 4
#define DEVICE_TRF7970_KIMONOBOARD 5
#define DEVICE_PN532_KIMONOBOARD 6


#if DEVICE == DEVICE_RP2040_ZERO_PN532

    #define CHIP CHIP_PN532
    
    #define PN532_SPI_PORT spi0
    #define PN532_SPI_SCK_PIN 8
    #define PN532_SPI_MISO_PIN 9
    #define PN532_SPI_MOSI_PIN 10
    #define PN532_SPI_CS_PIN 11
    #define PN532_SPI_IRQ_PIN 14

    #define PN532_SPI_BAUDRATE 5000000 // 6.5 Mhz (seems to be the maximum value)

#elif DEVICE == DEVICE_SHADOWTAG

    #define CHIP CHIP_TRF7970A

    #define TRF7970A_SPI_PORT spi0
    #define TRF7970A_SPI_SCK_PIN 2
    #define TRF7970A_SPI_MISO_PIN 4
    #define TRF7970A_SPI_MOSI_PIN 3
    #define TRF7970A_SPI_CS_PIN 5
    #define TRF7970A_SPI_IRQ_PIN 11
    #define TRF7970A_EN_PIN 0
    #define TRF7970A_SPI_BAUDRATE 2000000 // 2 Mhz
    #define TRF7970A_IO0_PIN TRF7970A_PIN_UNDEFINED
    #define TRF7970A_IO1_PIN TRF7970A_PIN_UNDEFINED
    #define TRF7970A_IO2_PIN TRF7970A_PIN_UNDEFINED

#elif DEVICE == DEVICE_ST25TB_KAMELEON

    #define CHIP CHIP_TRF7970A

    #define TRF7970A_SPI_PORT spi0
    #define TRF7970A_SPI_SCK_PIN 6
    #define TRF7970A_SPI_MISO_PIN 4
    #define TRF7970A_SPI_MOSI_PIN 7
    #define TRF7970A_SPI_CS_PIN 10
    #define TRF7970A_SPI_IRQ_PIN 11
    #define TRF7970A_EN_PIN 5
    #define TRF7970A_SPI_BAUDRATE 2000000 // 2 Mhz
    #define TRF7970A_IO0_PIN TRF7970A_PIN_UNDEFINED
    #define TRF7970A_IO1_PIN TRF7970A_PIN_UNDEFINED
    #define TRF7970A_IO2_PIN TRF7970A_PIN_UNDEFINED

#elif DEVICE == DEVICE_PICOTAG

    #define CHIP CHIP_TRF7970A

    #define TRF7970A_SPI_PORT spi0
    #define TRF7970A_SPI_SCK_PIN 2
    #define TRF7970A_SPI_MISO_PIN 4
    #define TRF7970A_SPI_MOSI_PIN 3
    #define TRF7970A_SPI_CS_PIN 5
    #define TRF7970A_SPI_IRQ_PIN 12
    #define TRF7970A_EN_PIN 0
    #define TRF7970A_SPI_BAUDRATE 2000000 // 2 Mhz
    #define TRF7970A_IO0_PIN 14
    #define TRF7970A_IO1_PIN 15
    #define TRF7970A_IO2_PIN 6

#elif DEVICE == DEVICE_TRF7970_KIMONOBOARD

    #define CHIP CHIP_TRF7970A

    #define TRF7970A_SPI_PORT spi0
    #define TRF7970A_SPI_SCK_PIN 18
    #define TRF7970A_SPI_MISO_PIN 16
    #define TRF7970A_SPI_MOSI_PIN 19
    #define TRF7970A_SPI_CS_PIN 17
    #define TRF7970A_SPI_IRQ_PIN 21
    #define TRF7970A_EN_PIN 20
    #define TRF7970A_SPI_BAUDRATE 2000000 // 2 Mhz
    #define TRF7970A_IO0_PIN TRF7970A_PIN_UNDEFINED
    #define TRF7970A_IO1_PIN TRF7970A_PIN_UNDEFINED
    #define TRF7970A_IO2_PIN TRF7970A_PIN_UNDEFINED

#elif DEVICE == DEVICE_PN532_KIMONOBOARD
    #define CHIP CHIP_PN532

    #define PN532_SPI_PORT spi0
    #define PN532_SPI_SCK_PIN 18
    #define PN532_SPI_MISO_PIN 16
    #define PN532_SPI_MOSI_PIN 19
    #define PN532_SPI_CS_PIN 14
    #define PN532_SPI_IRQ_PIN 10

    #define PN532_SPI_BAUDRATE 5000000 // 6.5 Mhz (seems to be the maximum value)

#else
    #error "DEVICE must be set to either DEVICE_RP2040_ZERO_PN532, DEVICE_SHADOWTAG, DEVICE_PICOTAG, DEVICE_TRF7970_KIMONOBOARD or DEVICE_PN532_KIMONOBOARD)"
#endif